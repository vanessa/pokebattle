{% extends 'base.html' %}
{% load widget_tweaks %}

{% block title %}PokeBattle &middot; {{ battle.creator.get_short_name }} vs. {{ battle.opponent.get_short_name }}{% endblock %}

{% block body %}
    <div class="pokebattle-container battle">
        {% if not opponents_pokemons %}
            <div class="status waiting">
                {% if user_is_opponent %}
                    Waiting for you to choose
                {% else %}
                    Waiting for opponent
                {% endif %}
            </div>
        {% endif %}
        <h2>{{ battle.creator.get_short_name }} vs. {{ battle.opponent.get_short_name }}</h2>
        {% comment %}    
        <div class="battle-result-label">
            <strong>amanda</strong> won!
        </div>
        {% endcomment %}
        <section class="pick-team">
            {% if not creators_pokemons or not opponents_pokemons %}
                <a href="{% url 'battles:team' battle.pk %}">Pick my team</a>
            {% endif %}
        </section>
        <section class="battle-pokemons">
            {% if creators_pokemons %}
            <div class="column">
                {% for pokemon in creators_pokemons %}
                <div class="pokemon-card">
                    <img src="{{ pokemon.sprite }}">
                    <i>{{ pokemon.name }}</i>
                    <div class="attributes">
                        <span>A: {{ pokemon.attack }}</span>
                        <span>D: {{ pokemon.defense }}</span>
                        <span>HP: {{ pokemon.hp }}</span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </section>
    </div>
{% endblock %}